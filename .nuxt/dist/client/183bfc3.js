(window.webpackJsonp=window.webpackJsonp||[]).push([[56,23,38],{401:function(t,e,n){"use strict";n.r(e);n(9),n(22),n(21),n(63),n(96),n(2);var o={props:["accept","multiple","label","isChat"],created:function(){},mounted:function(){},data:function(){return{showAlert:!1}},methods:{onFileChange:function(){var t=[],e=this.$refs.file.files,n=this.accept;if(e&&e.length)var o=e[0].name.split(".").pop();if(n){if(!n.includes(o))return void(this.showAlert=!0);this.showAlert=!1,e.forEach((function(e){t.push(e)})),this.$emit("input",this.multiple?t:t[0]),this.$refs.file.value=null}}}},r=n(41),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("input",{ref:"file",staticClass:"inputfile",class:t.isChat?"w-40":"",attrs:{type:"file",multiple:t.multiple},on:{change:t.onFileChange}}),t._v(" "),o("label",{class:t.isChat?"bg-white mb-0":"",on:{click:function(e){return t.$refs.file.click()}}},[t.isChat?[o("img",{attrs:{src:n(402),alt:""}})]:[o("img",{staticClass:"mr-4px h-13px mb-2px",attrs:{src:n(403),alt:""}}),t._v("\n            "+t._s(t.label)+"\n        ")]],2),t._v(" "),t.isChat?t._e():o("span",{staticClass:"text-main f-11 font-italic"},[t._l(t.accept,(function(e,n){return[t._v("\n           "+t._s(e)+" "),n+1<t.accept.length?o("span",{key:n},[t._v(",")]):t._e()]}))],2),t._v(" "),t.showAlert?o("small",{staticClass:"text-danger d-block"},[t._v("Sai định dạng")]):t._e()])}),[],!1,null,null,null);e.default=component.exports},402:function(t,e,n){t.exports=n.p+"img/file.0c843c8.svg"},403:function(t,e,n){t.exports=n.p+"img/icon-upload.762d37f.svg"},406:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNyAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuMzQzNjYgMTUuMzQwN0wwIDguOTk2NTZMMy4wMjU0NyA1Ljk3MTA5TDYuMzQzNjYgOS4yODkyOEwxMy45NzQ1IDEuNjU4OTRMMTcgNC42ODQ0TDYuMzQzNjYgMTUuMzQwN1oiIGZpbGw9IiMxOThBQzYiLz4KPC9zdmc+Cg=="},442:function(t,e,n){"use strict";n.r(e);n(63);var o={props:["phone"],data:function(){return{agree:!1,options:this.getCategory(),date:new Date,activePhone:this.phone,showStepTwo:!1,msg:"",codeObj:{}}},mounted:function(){},methods:{saveConfirm:function(){var t=this;this.msg="";var e={phone:this.activePhone};this.$post("user/verify/phone",e).then((function(e){1==e.data.status?(t.showStepTwo=!0,t.agree=!1):t.msg=e.data.msg})).catch((function(e){t.msg="Có lỗi xảy ra",console.log(e)}))},verifyWithOTP:function(){var t=this;this.msg="";var e={phone:this.activePhone,verifiedCode:this.getCodeObj()};this.$post("user/verify/phone/code",e).then((function(e){e.data.status?t.$emit("doneConfirmPhone"):t.msg=e.data.msg})).catch((function(e){t.msg="Có lỗi xảy ra"}))},getCodeObj:function(){var code="",object=this.codeObj;for(var t in object)Object.hasOwnProperty.call(object,t)&&(code=code+object[t]+"");return code},nextCode:function(t){var e=t.key;["0","1","2","3","4","5","6","7","8","9"].includes(e)&&t.target.nextElementSibling.focus()},show:function(){this.$refs.modalPhoneForm.showModal()},hide:function(){this.$refs.modalPhoneForm.hideModal()}}},r=n(41),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{ref:"modalPhoneForm",attrs:{id:"modal-change-phone-form-submit"},scopedSlots:t._u([{key:"content",fn:function(){return[n("div",{staticClass:"modal-contact formCore"},[n("div",{staticClass:"content"},[n("p",{staticClass:"title f-20 mb-10px"},[t._v("Vui lòng nhập số điện thoại của bạn")]),t._v(" "),n("form",{staticClass:"group-content mt-28px",on:{submit:function(e){e.preventDefault(),t.showStepTwo?t.verifyWithOTP():t.saveConfirm()}}},[t.showStepTwo?n("div",{staticClass:"form-group row"},[n("label",{staticClass:"f-13 col-md-3 col-sm-12 mt-8px"},[t._v("\n                Mã code\n                "),n("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),n("div",{staticClass:"form-group col-md-9 col-sm-12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.codeObj.code1,expression:"codeObj.code1"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:t.codeObj.code1},on:{keyup:function(e){return t.nextCode(e)},keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||t.$set(t.codeObj,"code1",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.codeObj.code2,expression:"codeObj.code2"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:t.codeObj.code2},on:{keyup:function(e){return t.nextCode(e)},keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||t.$set(t.codeObj,"code2",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.codeObj.code3,expression:"codeObj.code3"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:t.codeObj.code3},on:{keyup:function(e){return t.nextCode(e)},keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||t.$set(t.codeObj,"code3",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.codeObj.code4,expression:"codeObj.code4"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:t.codeObj.code4},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||t.$set(t.codeObj,"code4",e.target.value)}}})])]):n("div",{staticClass:"form-group row"},[n("label",{staticClass:"f-13 col-md-3 col-sm-12 mt-8px"},[t._v("\n                  Số điện thoại\n                  "),n("span",{staticStyle:{color:"red"}},[t._v("*")])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.activePhone,expression:"activePhone"}],staticClass:"form-control col-md-9 col-sm-12",attrs:{required:"",placeholder:"Nhập số điện thoại cần xác thực"},domProps:{value:t.activePhone},on:{input:function(e){e.target.composing||(t.activePhone=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group mb-40px group-checkbox d-flex"},[n("b-form-checkbox",{attrs:{name:"checkbox-agree",required:""},model:{value:t.agree,callback:function(e){t.agree=e},expression:"agree"}}),t._v(" "),n("span",{staticClass:"f-12 main-black mt-2px ml-5px"},[t._v("Tôi đồng ý với "),n("span",{staticClass:"main-color"},[t._v("điều khoản")]),t._v(" của Econs "),n("span",{staticStyle:{color:"red"}},[t._v("*")])])],1),t._v(" "),n("div",{staticClass:"group-btn row"},[n("div",{staticClass:"col-md-12"},[n("button",{staticClass:"btn-now",attrs:{type:"submit"}},[t._v("\n                      "+t._s(t.showStepTwo?"Xác nhận":"GỬI MÃ OTP XÁC THỰC")+"\n                    ")]),t._v(" "),t.msg?n("small",{staticClass:"text-danger"},[t._v(t._s(t.msg))]):t._e()])])])])])]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Modal:n(253).default})},497:function(t,e,n){"use strict";n.r(e);var o=n(19),r=(n(10),n(1),n(21),n(53),{data:function(){return{phone:this.$auth.user.phone,acceptFile:["png","jpg","jpeg","tiff","pdf","xls","doc","ppt","zip","rar"],arrFile:[]}},mounted:function(){this.$auth.fetchUser()},methods:{doneConfirmPhone:function(){this.$auth.fetchUser()},verifyPassport:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.arrFile.length){e.next=6;break}return e.next=3,t.uploadFile(t.arrFile);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=[];case 7:n=e.t0,o={verifiedPaper:n},t.$post("user/verify/paper",o).then((function(e){t.$auth.fetchUser()})).catch((function(t){console.log(t)}));case 10:case"end":return e.stop()}}),e)})))()},getFile:function(t){this.arrFile=this.arrFile.concat(t)},clearFile:function(t){this.arrFile=this.arrFile.filter((function(e){return e.name!==t.name}))},openModalPhone:function(){this.$refs.PopupChangePhone.show()}}}),c=n(41),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editProfileInfoWrap"},[o("div",{staticClass:"f-20 f-bold text-main mb-15px"},[t._v("\n        Xác thực thông tin tài khoản\n    ")]),t._v(" "),o("div",{staticClass:"mb-24px text-black f-12"},[t._v("\n        Xác thực đầy đủ thông tin doanh nghiệp/cá nhân để nhận được sự tin tưởng từ khách hàng và làm việc an toàn, hiệu quả.\n    ")]),t._v(" "),o("form",[o("div",{staticClass:"editRow mb-15px"},[t._m(0),t._v(" "),o("div",{staticClass:"fieldInput flex-align-center"},[o("div",{staticClass:"form-group mb-0 flex-1 mr-15px",class:t.$auth.user.verified?"group-verfiry":""},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",class:t.$auth.user.verified?"verify":"",attrs:{type:"text",required:"",disabled:t.$auth.user.verified,placeholder:"Số điện thoại"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),t.$auth.user.verified?o("div",{staticClass:"group-verify"},[o("img",{attrs:{src:n(406),alt:""}}),t._v(" "),o("span",[t._v(" Đã xác thực")])]):t._e()]),t._v(" "),o("div",[o("button",{staticClass:"btn btn-main px-25px",attrs:{type:"button",disabled:t.$auth.user.verified},on:{click:t.openModalPhone}},[t._v("\n                        Xác thực\n                    ")])])])]),t._v(" "),o("div",{staticClass:"editRow align-items-start mb-15px"},[t._m(1),t._v(" "),"NoAction"==t.$auth.user.verifiedPaperStatus?o("div",{staticClass:"fieldInput flex-align-center"},[o("div",{staticClass:"d-flex w-100",staticStyle:{"justify-content":"space-between"}},[o("div",[o("InputFile",{attrs:{accept:t.acceptFile,multiple:!0,label:"Thêm tài liệu"},on:{input:t.getFile}}),t._v(" "),t.arrFile.length?o("div",{staticClass:"col-md-9 pl-0"},[t._l(t.arrFile,(function(e,n){return[o("p",{key:n,staticClass:"f-11 text-main "},[o("span",{staticClass:"mr-5px",domProps:{innerHTML:t._s(t.returnTypeFile(e.name))}}),t._v("\n                                    "+t._s(e.name)+"\n                                    "),o("span",{staticClass:"cursor-pointer ml-5px",on:{click:function(n){return t.clearFile(e)}}},[o("i",{staticClass:"fas fa-times text-red"})])])]}))],2):t._e()],1),t._v(" "),o("button",{staticClass:"btn btn-main px-25px",attrs:{type:"button"},on:{click:t.verifyPassport}},[t._v("\n                        Xác thực\n                    ")])])]):o("div",["Active"==t.$auth.user.verifiedPaperStatus?o("small",{staticClass:"checkVerify"},[o("img",{attrs:{src:n(406),alt:""}}),t._v("\n                    Đã xác thực\n                ")]):o("small",{staticClass:"text-danger fw-600"},[t._v("\n                    Đang xác thực\n                ")]),t._v(" "),t.$auth.user.verifiedPaper&&t.$auth.user.verifiedPaper.length?o("div",[t._l(t.$auth.user.verifiedPaper,(function(e,n){return[o("p",{key:n,staticClass:"f-11 cursor-pointer text-main  mb-0 mt-8px",on:{click:function(n){return t.downloadFile(e)}}},[o("span",{staticClass:"mr-5px",domProps:{innerHTML:t._s(t.returnTypeFile(e))}}),t._v("\n                            "+t._s(t.spliceURLFile(e,"--"))+"\n                        ")])]}))],2):t._e()])])]),t._v(" "),t.$auth.user.verified?t._e():o("PopupPhoneform",{ref:"PopupChangePhone",attrs:{phone:t.phone},on:{doneConfirmPhone:t.doneConfirmPhone}})],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fieldLabel w-200px"},[t._v("\n                Xác thực số điện thoại"),n("span",{staticClass:"dot"},[t._v("*")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fieldLabel pt-5px w-200px"},[t._v("\n                Xác thực CMND/Passport"),n("span",{staticClass:"dot"},[t._v("*")]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"info"},[t._v("\n                    Vui lòng kèm trong file cả mặt trước và mặt sau của thẻ căn cước công dân\n                ")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{InputFile:n(401).default,PopupPhoneform:n(442).default})}}]);