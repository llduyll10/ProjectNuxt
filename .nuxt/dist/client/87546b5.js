(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{449:function(t,e,o){"use strict";o.r(e);o(4),o(3),o(5),o(2),o(6);var r=o(0),n=o(19);o(53),o(159),o(10),o(1),o(21);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={props:["project","activeReport","auction"],data:function(){return{acceptFile:["png","jpg","jpeg","tiff"],objReport:{},arrFile:[]}},watch:{activeReport:function(){this.objReport.time="Tuần "+Number(this.activeReport)}},methods:{getForm:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.arrFile.length){e.next=6;break}return e.next=3,t.uploadFile(t.arrFile);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=[];case 7:o=e.t0,r=t.objReport.attachment||[],n=r.concat(o),c=l(l({},t.objReport),{},{reportId:t.activeReport-1,attachment:n}),t.$emit("createReport",c),t.hide();case 13:case"end":return e.stop()}}),e)})))()},updateReport:function(t){console.log("report",t),this.objReport=t},triggerForm:function(t){this.objReport.status=t,this.$refs.btnSubmitReport.click()},getFile:function(t){this.arrFile=this.arrFile.concat(t)},clearFile:function(t){this.arrFile=this.arrFile.filter((function(e){return e.name!==t.name}))},clearFileOld:function(t){this.objReport.attachment=this.objReport.attachment.filter((function(e){return e!==t}))},show:function(){this.$refs.modalReportCustomer.showModal()},hide:function(){this.$refs.modalReportCustomer.hideModal(),this.arrFile=[]}}},d=o(41),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Modal",{ref:"modalReportCustomer",attrs:{id:"modal-payment-report"},scopedSlots:t._u([{key:"content",fn:function(){return[o("div",{staticClass:"modal-contact formCore"},[o("div",{staticClass:"content"},[o("p",{staticClass:"title f-20 fw-600"},[o("span",{staticClass:"text-main"},[t._v(t._s(t.auction.auctionBy.company))]),t._v(" BÁO CÁO TIẾN ĐỘ THI CÔNG\n        ")]),t._v(" "),o("form",{attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.getForm()}}},[o("div",{staticClass:"group-infor no-border pr-60px"},[o("div",{staticClass:"row mb-15px"},[o("div",{staticClass:"col-md-3"},[o("span",{staticClass:"key"},[t._v("Tên dự án")])]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("span",{staticClass:"value text-red",class:t.getClassCategory(t.mapImgFromCategory(t.project.category))},[t._v("\n                            "+t._s(t.project.name)+"\n                        ")])])]),t._v(" "),o("div",{staticClass:"row mb-15px"},[o("div",{staticClass:"col-md-3"},[o("span",{staticClass:"key"},[t._v("Nhân viên báo cáo")]),t._v(" "),o("span",{staticClass:"text-red"},[t._v("*")])]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.objReport.nameStaff,expression:"objReport.nameStaff"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.objReport.nameStaff},on:{input:function(e){e.target.composing||t.$set(t.objReport,"nameStaff",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row mb-15px"},[o("div",{staticClass:"col-md-3"},[o("span",{staticClass:"key"},[t._v("Thời gian")]),t._v(" "),o("span",{staticClass:"text-red"},[t._v("*")])]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.objReport.time,expression:"objReport.time"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.objReport.time},on:{input:function(e){e.target.composing||t.$set(t.objReport,"time",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row mb-25px"},[o("div",{staticClass:"col-md-3"},[o("span",{staticClass:"key"},[t._v("Nhật ký công việc")]),o("span",{staticClass:"text-red"},[t._v("*")])]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.objReport.note,expression:"objReport.note"}],staticClass:"form-control",attrs:{type:"text",required:"",rows:"5"},domProps:{value:t.objReport.note},on:{input:function(e){e.target.composing||t.$set(t.objReport,"note",e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"},[o("span",{staticClass:"key"},[t._v("Hình ảnh đính kèm")])]),t._v(" "),o("div",{staticClass:"col-md-9"},[o("div",{staticClass:"row cover-img"},[t.objReport.attachment&&t.objReport.attachment.length?[t._l(t.objReport.attachment,(function(t,e){return[o("div",{key:e+100,staticClass:"col-6 img"},[o("div",{staticClass:" item-img",style:{"background-image":"url("+t+")"}})])]}))]:t._e()],2)])])])])])])]},proxy:!0}])})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Modal:o(253).default})}}]);