(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{441:function(e,t,o){"use strict";o.r(t);o(63);var n={props:["phone"],data:function(){return{agree:!1,options:this.getCategory(),date:new Date,activePhone:this.phone,showStepTwo:!1,msg:"",codeObj:{}}},mounted:function(){},methods:{saveConfirm:function(){var e=this;this.msg="";var t={phone:this.activePhone};this.$post("user/verify/phone",t).then((function(t){1==t.data.status?(e.showStepTwo=!0,e.agree=!1):e.msg=t.data.msg})).catch((function(t){e.msg="Có lỗi xảy ra",console.log(t)}))},verifyWithOTP:function(){var e=this;this.msg="";var t={phone:this.activePhone,verifiedCode:this.getCodeObj()};this.$post("user/verify/phone/code",t).then((function(t){t.data.status?e.$emit("doneConfirmPhone"):e.msg=t.data.msg})).catch((function(t){e.msg="Có lỗi xảy ra"}))},getCodeObj:function(){var code="",object=this.codeObj;for(var e in object)Object.hasOwnProperty.call(object,e)&&(code=code+object[e]+"");return code},nextCode:function(e){var t=e.key;["0","1","2","3","4","5","6","7","8","9"].includes(t)&&e.target.nextElementSibling.focus()},show:function(){this.$refs.modalPhoneForm.showModal()},hide:function(){this.$refs.modalPhoneForm.hideModal()}}},r=o(41),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Modal",{ref:"modalPhoneForm",attrs:{id:"modal-change-phone-form-submit"},scopedSlots:e._u([{key:"content",fn:function(){return[o("div",{staticClass:"modal-contact formCore"},[o("div",{staticClass:"content"},[o("p",{staticClass:"title f-20 mb-10px"},[e._v("Vui lòng nhập số điện thoại của bạn")]),e._v(" "),o("form",{staticClass:"group-content mt-28px",on:{submit:function(t){t.preventDefault(),e.showStepTwo?e.verifyWithOTP():e.saveConfirm()}}},[e.showStepTwo?o("div",{staticClass:"form-group row"},[o("label",{staticClass:"f-13 col-md-3 col-sm-12 mt-8px"},[e._v("\n                Mã code\n                "),o("span",{staticStyle:{color:"red"}},[e._v("*")])]),e._v(" "),o("div",{staticClass:"form-group col-md-9 col-sm-12"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.codeObj.code1,expression:"codeObj.code1"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:e.codeObj.code1},on:{keyup:function(t){return e.nextCode(t)},keypress:function(t){return e.isNumber(t)},input:function(t){t.target.composing||e.$set(e.codeObj,"code1",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.codeObj.code2,expression:"codeObj.code2"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:e.codeObj.code2},on:{keyup:function(t){return e.nextCode(t)},keypress:function(t){return e.isNumber(t)},input:function(t){t.target.composing||e.$set(e.codeObj,"code2",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.codeObj.code3,expression:"codeObj.code3"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:e.codeObj.code3},on:{keyup:function(t){return e.nextCode(t)},keypress:function(t){return e.isNumber(t)},input:function(t){t.target.composing||e.$set(e.codeObj,"code3",t.target.value)}}}),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.codeObj.code4,expression:"codeObj.code4"}],staticClass:"form-control verifyOTP",attrs:{type:"text",required:"",maxlength:"1"},domProps:{value:e.codeObj.code4},on:{keypress:function(t){return e.isNumber(t)},input:function(t){t.target.composing||e.$set(e.codeObj,"code4",t.target.value)}}})])]):o("div",{staticClass:"form-group row"},[o("label",{staticClass:"f-13 col-md-3 col-sm-12 mt-8px"},[e._v("\n                  Số điện thoại\n                  "),o("span",{staticStyle:{color:"red"}},[e._v("*")])]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.activePhone,expression:"activePhone"}],staticClass:"form-control col-md-9 col-sm-12",attrs:{required:"",placeholder:"Nhập số điện thoại cần xác thực"},domProps:{value:e.activePhone},on:{input:function(t){t.target.composing||(e.activePhone=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"form-group mb-40px group-checkbox d-flex"},[o("b-form-checkbox",{attrs:{name:"checkbox-agree",required:""},model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}}),e._v(" "),o("span",{staticClass:"f-12 main-black mt-2px ml-5px"},[e._v("Tôi đồng ý với "),o("span",{staticClass:"main-color"},[e._v("điều khoản")]),e._v(" của Econs "),o("span",{staticStyle:{color:"red"}},[e._v("*")])])],1),e._v(" "),o("div",{staticClass:"group-btn row"},[o("div",{staticClass:"col-md-12"},[o("button",{staticClass:"btn-now",attrs:{type:"submit"}},[e._v("\n                      "+e._s(e.showStepTwo?"Xác nhận":"GỬI MÃ OTP XÁC THỰC")+"\n                    ")]),e._v(" "),e.msg?o("small",{staticClass:"text-danger"},[e._v(e._s(e.msg))]):e._e()])])])])])]},proxy:!0}])})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Modal:o(253).default})}}]);